<html>
  <head>
    <title>Node.js AMQP Consumer Demo</title>
    <script src="http://sockjs.github.com/sockjs-client/sockjs-latest.min.js"></script>
 </head>
  <body>
    <script>
      function price(data) {
        var price_data = data.split(',');
        var elem = document.getElementById(price_data[0]);
        elem.innerHTML = price_data[1];
      };

      var sockjs_url = '/stocks';
      var sockjs = new SockJS(sockjs_url);

      sockjs.onmessage = function(e) {
         price(e.data);
      };
   </script>
    <style type="text/css">
      .container{
        border-collapse: separate;
        border-spacing: 30px;
        width: 960px;
        margin-left: auto;
        margin-right: auto;
      }

      .row {
        display:table-row;
      }
      .price {
        display:table-cell;
        background-color: grey;
        height: 200px;
        width: 200px;
        border-radius: 15px;
        padding: 5px;

      }
      .price h1 {
        font-family: Helvetica;
        font-size: 36pt;
        text-align: center;
      }

      .price div {
        font-family: Helvetica;
        font-size: 20pt;
        text-align: center;
      }
    </style>
    <div class="container">
      <div class="row">
        <div class="price">
          <h1>AAPL</h1>
          <div id="AAPL">-</div>
        </div>
        <div class="price">
          <h1>GOOG</h1>
          <div id="GOOG">-</div>
        </div>
        <div class="price">
          <h1>VMW</h1>
          <div id="VMW">-</div>
        </div>
      </div>
    </div>
  </body>
</html>
